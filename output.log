[INFO] Redis Server is running on 127.0.0.1:6379
[DEBUG] New TCP connection from 127.0.0.1:60653
[TRACE] Resp Requested: Ok(Array([BulkString("set"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:60653)
[TRACE] RESP type to decode: Array([BulkString("set"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Publish([Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[DEBUG] New TCP connection from 127.0.0.1:60654
[TRACE] Resp Requested: Ok(Array([BulkString("set"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:60654)
[TRACE] RESP type to decode: Array([BulkString("set"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Publish([Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[INFO] Redis Server is running on 127.0.0.1:6380
[INFO] Connected as replica to 127.0.0.1:6379
[DEBUG] New TCP connection from 127.0.0.1:60655
[TRACE] Operation to encode: Ping
[TRACE] Resp Requested: Ok(Array([BulkString("PING")]))-Ok(127.0.0.1:60655)
[TRACE] RESP type to decode: Array([BulkString("PING")])
[TRACE] Operation requested: Ping
[TRACE] Action to take: EchoString("PONG")
[TRACE] Operation to encode: EchoString("PONG")
[TRACE] RESP type to decode: String("PONG")
[DEBUG] Replica server is reachable
[TRACE] Operation to encode: ReplicaConf([ListeningPort(6380)])
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("listening-port"), BulkString("6380")]))-Ok(127.0.0.1:60655)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("listening-port"), BulkString("6380")])
[TRACE] Operation requested: ReplicaConf([ListeningPort(6380)])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] RESP type to decode: String("OK")
[DEBUG] Replica listening port successfully configured
[TRACE] Operation to encode: ReplicaConf([Capabilities("eof"), Capabilities("psync2")])
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("capa"), BulkString("eof"), BulkString("capa"), BulkString("psync2")]))-Ok(127.0.0.1:60655)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("capa"), BulkString("eof"), BulkString("capa"), BulkString("psync2")])
[TRACE] Operation requested: ReplicaConf([Capabilities("eof"), Capabilities("psync2")])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] RESP type to decode: String("OK")
[DEBUG] Replica eof and psync2 capabilities successfully configured
[TRACE] Operation to encode: Psync(Psync { replication_id: "?", offset: -1 })
[TRACE] Resp Requested: Ok(Array([BulkString("PSYNC"), BulkString("?"), BulkString("-1")]))-Ok(127.0.0.1:60655)
[TRACE] RESP type to decode: Array([BulkString("PSYNC"), BulkString("?"), BulkString("-1")])
[TRACE] Operation requested: Psync(Psync { replication_id: "?", offset: -1 })
[TRACE] Action to take: Queue
[TRACE] Action to take: EchoString("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] Operation to encode: EchoString("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] RESP type to decode: String("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[DEBUG] Replica state resynchronization details successfully shared
[TRACE] Action to take: EchoBytes(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[TRACE] Operation to encode: EchoBytes(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[TRACE] Action to take: RegisterReplica
[TRACE] Action to take: ReplicaConf([GetAck("*")])
[TRACE] Operation to encode: ReplicaConf([GetAck("*")])
[TRACE] Action to take: Subscribe
[TRACE] RESP type to decode: RDB(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[DEBUG] Replica state synchronization successfully initiated
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("GETACK"), BulkString("*")])
[TRACE] Operation to encode: ReplicaConf([Ack(0)])
[DEBUG] Subscribed to the server at 127.0.0.1:6379
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("ACK"), BulkString("0")]))-Ok(127.0.0.1:60655)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("ACK"), BulkString("0")])
[TRACE] Operation requested: ReplicaConf([])
[DEBUG] New TCP connection from 127.0.0.1:60656
[TRACE] Resp Requested: Ok(Array([BulkString("set"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:60656)
[TRACE] RESP type to decode: Array([BulkString("set"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Publish([Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] Operation to encode: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Resp Requested: Ok(Array([BulkString("SET"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:6379)
[TRACE] RESP type to decode: Array([BulkString("SET"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Ok
[DEBUG] New TCP connection from 127.0.0.1:60659
[TRACE] Resp Requested: Ok(Array([BulkString("set"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:60659)
[TRACE] RESP type to decode: Array([BulkString("set"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Publish([Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] Operation to encode: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Resp Requested: Ok(Array([BulkString("SET"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:6379)
[TRACE] RESP type to decode: Array([BulkString("SET"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Ok
[DEBUG] New TCP connection from 127.0.0.1:60660
[TRACE] Resp Requested: Ok(Array([BulkString("get"), BulkString("foo")]))-Ok(127.0.0.1:60660)
[TRACE] RESP type to decode: Array([BulkString("get"), BulkString("foo")])
[TRACE] Operation requested: Get("foo")
[DEBUG] Debug SetMap SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None }
[TRACE] Action to take: Echo("bar")
[TRACE] Operation to encode: Echo("bar")
[TRACE] Resp Requested: Ok(Array([BulkString("get"), BulkString("foo")]))-Ok(127.0.0.1:60660)
[TRACE] RESP type to decode: Array([BulkString("get"), BulkString("foo")])
[TRACE] Operation requested: Get("foo")
[DEBUG] Debug SetMap SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None }
[TRACE] Action to take: Echo("bar")
[TRACE] Operation to encode: Echo("bar")
[INFO] Redis Server is running on 127.0.0.1:6379
[INFO] Redis Server is running on 127.0.0.1:6380
[INFO] Connected as replica to 127.0.0.1:6379
[TRACE] Operation to encode: Ping
[DEBUG] New TCP connection from 127.0.0.1:64210
[TRACE] Resp Requested: Ok(Array([BulkString("PING")]))-Ok(127.0.0.1:64210)
[TRACE] RESP type to decode: Array([BulkString("PING")])
[TRACE] Operation requested: Ping
[TRACE] Action to take: EchoString("PONG")
[TRACE] Operation to encode: EchoString("PONG")
[TRACE] RESP type to decode: String("PONG")
[DEBUG] Replica server is reachable
[TRACE] Operation to encode: ReplicaConf([ListeningPort(6380)])
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("listening-port"), BulkString("6380")]))-Ok(127.0.0.1:64210)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("listening-port"), BulkString("6380")])
[TRACE] Operation requested: ReplicaConf([ListeningPort(6380)])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] RESP type to decode: String("OK")
[DEBUG] Replica listening port successfully configured
[TRACE] Operation to encode: ReplicaConf([Capabilities("eof"), Capabilities("psync2")])
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("capa"), BulkString("eof"), BulkString("capa"), BulkString("psync2")]))-Ok(127.0.0.1:64210)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("capa"), BulkString("eof"), BulkString("capa"), BulkString("psync2")])
[TRACE] Operation requested: ReplicaConf([Capabilities("eof"), Capabilities("psync2")])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] RESP type to decode: String("OK")
[DEBUG] Replica eof and psync2 capabilities successfully configured
[TRACE] Operation to encode: Psync(Psync { replication_id: "?", offset: -1 })
[TRACE] Resp Requested: Ok(Array([BulkString("PSYNC"), BulkString("?"), BulkString("-1")]))-Ok(127.0.0.1:64210)
[TRACE] RESP type to decode: Array([BulkString("PSYNC"), BulkString("?"), BulkString("-1")])
[TRACE] Operation requested: Psync(Psync { replication_id: "?", offset: -1 })
[TRACE] Action to take: Queue
[TRACE] Action to take: EchoString("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] Operation to encode: EchoString("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] Action to take: EchoBytes(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[TRACE] RESP type to decode: String("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] Operation to encode: EchoBytes(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[DEBUG] Replica state resynchronization details successfully shared
[TRACE] Action to take: RegisterReplica
[TRACE] Action to take: ReplicaConf([GetAck("*")])
[TRACE] Operation to encode: ReplicaConf([GetAck("*")])
[TRACE] Action to take: Subscribe
[TRACE] RESP type to decode: RDB(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[DEBUG] Replica state synchronization successfully initiated
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("GETACK"), BulkString("*")])
[TRACE] Operation to encode: ReplicaConf([Ack(0)])
[DEBUG] Subscribed to the server at 127.0.0.1:6379
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("ACK"), BulkString("0")]))-Ok(127.0.0.1:64210)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("ACK"), BulkString("0")])
[TRACE] Operation requested: ReplicaConf([])
[INFO] Redis Server is running on 127.0.0.1:6379
[INFO] Redis Server is running on 127.0.0.1:6380
[INFO] Connected as replica to 127.0.0.1:6379
[TRACE] Operation to encode: Ping
[DEBUG] New TCP connection from 127.0.0.1:64316
[TRACE] Resp Requested: Ok(Array([BulkString("PING")]))-Ok(127.0.0.1:64316)
[TRACE] RESP type to decode: Array([BulkString("PING")])
[TRACE] Operation requested: Ping
[TRACE] Action to take: EchoString("PONG")
[TRACE] Operation to encode: EchoString("PONG")
[TRACE] RESP type to decode: String("PONG")
[DEBUG] Replica server is reachable
[TRACE] Operation to encode: ReplicaConf([ListeningPort(6380)])
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("listening-port"), BulkString("6380")]))-Ok(127.0.0.1:64316)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("listening-port"), BulkString("6380")])
[TRACE] Operation requested: ReplicaConf([ListeningPort(6380)])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] RESP type to decode: String("OK")
[DEBUG] Replica listening port successfully configured
[TRACE] Operation to encode: ReplicaConf([Capabilities("eof"), Capabilities("psync2")])
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("capa"), BulkString("eof"), BulkString("capa"), BulkString("psync2")]))-Ok(127.0.0.1:64316)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("capa"), BulkString("eof"), BulkString("capa"), BulkString("psync2")])
[TRACE] Operation requested: ReplicaConf([Capabilities("eof"), Capabilities("psync2")])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] RESP type to decode: String("OK")
[DEBUG] Replica eof and psync2 capabilities successfully configured
[TRACE] Operation to encode: Psync(Psync { replication_id: "?", offset: -1 })
[TRACE] Resp Requested: Ok(Array([BulkString("PSYNC"), BulkString("?"), BulkString("-1")]))-Ok(127.0.0.1:64316)
[TRACE] RESP type to decode: Array([BulkString("PSYNC"), BulkString("?"), BulkString("-1")])
[TRACE] Operation requested: Psync(Psync { replication_id: "?", offset: -1 })
[TRACE] Action to take: Queue
[TRACE] Action to take: EchoString("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] Operation to encode: EchoString("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] Action to take: EchoBytes(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[TRACE] RESP type to decode: String("FULLRESYNC 8371b4fb1155b71f4a04d3e1bc3e18c4a990aeeb 0")
[TRACE] Operation to encode: EchoBytes(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[DEBUG] Replica state resynchronization details successfully shared
[TRACE] Action to take: RegisterReplica
[TRACE] Action to take: ReplicaConf([GetAck("*")])
[TRACE] Operation to encode: ReplicaConf([GetAck("*")])
[TRACE] RESP type to decode: RDB(b"REDIS0010\xfa\x03foo\x03bar\xfe\0\xfdaVO\x80\0\x03bar\x03foo\xff")
[TRACE] Action to take: Subscribe
[DEBUG] Replica state synchronization successfully initiated
[DEBUG] Subscribed to the server at 127.0.0.1:6379
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("GETACK"), BulkString("*")]))-Ok(127.0.0.1:6379)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("GETACK"), BulkString("*")])
[TRACE] Operation requested: ReplicaConf([GetAck("*")])
[TRACE] Action to take: ReplicaConf([Ack(0)])
[TRACE] Operation to encode: ReplicaConf([Ack(0)])
[TRACE] Resp Requested: Ok(Array([BulkString("REPLCONF"), BulkString("ACK"), BulkString("0")]))-Ok(127.0.0.1:64316)
[TRACE] RESP type to decode: Array([BulkString("REPLCONF"), BulkString("ACK"), BulkString("0")])
[TRACE] Operation requested: ReplicaConf([])
[DEBUG] New TCP connection from 127.0.0.1:64317
[TRACE] Resp Requested: Ok(Array([BulkString("set"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:64317)
[TRACE] RESP type to decode: Array([BulkString("set"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Publish([Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })])
[TRACE] Action to take: Ok
[TRACE] Operation to encode: Ok
[TRACE] Operation to encode: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Resp Requested: Ok(Array([BulkString("SET"), BulkString("foo"), BulkString("bar")]))-Ok(127.0.0.1:6379)
[TRACE] RESP type to decode: Array([BulkString("SET"), BulkString("foo"), BulkString("bar")])
[TRACE] Operation requested: Set(SetMap { expiry: None, key: "foo", val: "bar", overwrite: None, keepttl: None, expiry_timestamp: None })
[TRACE] Action to take: Ok
